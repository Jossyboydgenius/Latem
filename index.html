<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="style.css" />
    <title>LaTem</title>
  <<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="icon" href="favicon.png" type="image/png" />
    <link rel="icon" href="favicon.svg" type="image/svg" />
    <title>LaTem</title>
  </head>
  <body>
    <div class="element">
      <div class="div">
        <!-- Navbar -->
        <div class="navbar">
                   <img class="replace" src="https://c.animaapp.com/dTPxXaJm/img/replace-1.svg" alt="Replace Icon" onclick="showLockscreen()" />
          <img class="round-gala-logo" src="https://c.animaapp.com/dTPxXaJm/img/round-gala-logo-1@2x.png" alt="Gala Logo" />
          <div class="text-wrapper">Rating:</div>
          <div class="text-wrapper-2">Algorithm:</div>
          <div class="text-wrapper-3">Connection:</div>
          <div class="text-wrapper-4">Total Active Tables:</div>
          <div class="text-wrapper-5">Total Items:</div>
          <!-- <div class="text-wrapper-user">User</div> -->
          <div id="current-time" class="text-wrapper-6"></div>
          <div id="current-date" class="text-wrapper-7"></div>
          <div class="text-wrapper-8">Good</div>
          <div class="text-wrapper-9">Active</div>
          <div class="text-wrapper-10">Active</div>
          <div id="login-username" class="text-wrapper-13"></div> <!-- Placeholder for username -->
          <div class="text-wrapper-11">10</div>
          <div class="text-wrapper-12">100</div>
          <div id="user-name" class="text-wrapper-user">User</div> <!-- Updated div with id -->
          <div class="ellipse"></div>
          <div class="ellipse-2"></div>
          <div class="ellipse-3"></div>
          <img class="line" src="https://c.animaapp.com/dTPxXaJm/img/line-33.svg" alt="Line" />
          <img class="img" src="https://c.animaapp.com/dTPxXaJm/img/line-33.svg" alt="Line Duplicate" />
          <img class="line-2" src="https://c.animaapp.com/dTPxXaJm/img/line-32.svg" alt="Line 2" />
          <img class="line-3" src="https://c.animaapp.com/dTPxXaJm/img/line-33.svg" alt="Line 3" />
          <img class="line-4" src="https://c.animaapp.com/dTPxXaJm/img/line-145.svg" alt="Line 4" />
          <img class="line-5" src="https://c.animaapp.com/dTPxXaJm/img/line-145.svg" alt="Line 5" />
          <img class="line-6" src="https://c.animaapp.com/dTPxXaJm/img/line-145.svg" alt="Line 6" />
          <img class="line-user" src="https://c.animaapp.com/dTPxXaJm/img/line-145.svg" alt="Line user" />
          <img id="power-icon" class="power" src="https://c.animaapp.com/dTPxXaJm/img/power-1.svg" alt="Power Icon" onclick="showLockscreen()" />
          <img class="total" src="https://c.animaapp.com/dTPxXaJm/img/total-1.svg" alt="Total Icon" />
        </div>

        <!-- Main Content -->
        <div class="overlap">
          <div class="overlap-group">
            <img class="line-9" src="https://c.animaapp.com/dTPxXaJm/img/line-85.svg" alt="Line 9" />
            <div class="text-wrapper-15">Order Management</div>
            <div class="text-wrapper-16">Options</div>
            <p class="p">Select an Order to Edit</p>
            <div class="selected-order-details">
              <span class="close-button">x</span>
            </div>
            <img class="line-10" src="https://c.animaapp.com/dTPxXaJm/img/line-80.svg" alt="Line 10" />
            <div class="group">
              <div class="div-wrapper">
                <div class="text-wrapper-17">Add a New Order</div>
              </div>
            </div>
            <div class="overlap-wrapper">
              <div class="overlap-2">
                <div class="text-wrapper-18">Add an Item</div>
              </div>
            </div>
            <div class="overlap-group-wrapper">
              <div class="overlap-3">
                <div class="text-wrapper-19">Delete an Item</div>
              </div>
            </div>
            <div class="group-2">
              <div class="overlap-4">
                <div class="text-wrapper-19">Add a Note</div>
              </div>
            </div>
          <!-- Print Check button -->
          <div class="group-3">
            <div class="overlap-4">
              <div class="text-wrapper-19">Print Check</div>
            </div>
          </div>
            <div class="group-4">
              <div class="overlap-5">
                <div class="text-wrapper-19">Modify</div>
              </div>
            </div>
            <div class="group-5">
              <div class="overlap-6">
                <div class="text-wrapper-20">Delete Table</div>
              </div>
            </div>
            <div class="group-6">
              <div class="overlap-7">
                <div class="text-wrapper-21">End Order</div>
              </div>
            </div>
            <img class="line-11" src="https://c.animaapp.com/dTPxXaJm/img/line-81.svg" alt="Line 11" />
            <div class="text-wrapper-22">77.80â‚¾</div>
            <div class="text-wrapper-23">Total:</div>
            <img class="line-12" src="https://c.animaapp.com/dTPxXaJm/img/line-82.svg" alt="Line 12" />
            <img class="line-13" src="https://c.animaapp.com/dTPxXaJm/img/line-83.svg" alt="Line 13" />
          </div>

          <div class="text-wrapper-24">All Orders</div>
          <img class="line-14" src="https://c.animaapp.com/dTPxXaJm/img/line-79.svg" alt="Line 14" />

          <div class="overlap-group-left">
            <div id="order-groups-container" class="tables-container">
              <!-- Dynamic Order Groups will be injected here -->
            </div>
          </div>

        <!-- Lock Screen Elements -->
        <div id="lockscreen-container" style="display: none;"></div>

    <!-- JavaScript for Lock Screen Functionality -->
    <script>
  // Function to load CSS
  function loadCSS(url) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = url;
    document.head.appendChild(link);
  }

  // Function to show lockscreen
  function showLockscreen() {
    // Fetch and load lockscreen.html
    fetch('lockscreen/lockscreen.html')
      .then(response => response.text())
      .then(data => {
        const lockscreenContainer = document.createElement('div');
        lockscreenContainer.innerHTML = data;
        document.body.appendChild(lockscreenContainer);

        // Add event listeners for login functionality
        const inputField = document.getElementById('password-input');
        const handleLogin = () => {
          const password = inputField.value;
          if (password === 'AdminLatem') {
            // Correct password, remove lockscreen and update username
            document.body.removeChild(lockscreenContainer);
            document.getElementById('user-name').textContent = 'Latem';
          } else {
            // Wrong password, clear input and show error message
            inputField.value = '';
            inputField.placeholder = 'Wrong password';
            inputField.classList.add('error');
          }
        };

        inputField.addEventListener('keypress', function(event) {
          if (event.key === 'Enter') {
            handleLogin();
          }
        });

        document.getElementById('line-29').addEventListener('click', handleLogin);
        document.getElementById('vector-2').addEventListener('click', handleLogin);
      })
      .catch(error => console.error('Error loading lockscreen.html:', error));

    // Load lockscreen/style.css
    loadCSS('lockscreen/style.css');
  }

  // Show lockscreen when the page is loaded
  document.addEventListener('DOMContentLoaded', showLockscreen);

    // Add event listener to Print Check button
    document.querySelector('.group-3').addEventListener('click', function() {
      window.location.href = 'checkout/checkout.html';
    });

      document.addEventListener("DOMContentLoaded", function() {
        const checkboxes = document.querySelectorAll(".rectangle-3, .rectangle-4, .rectangle-5");
        const selectOrderText = document.querySelector(".p");
        const selectedOrderDetails = document.querySelector(".selected-order-details");
        const closeButton = document.querySelector(".close-button");
        const buttons = document.querySelectorAll(".group, .overlap-wrapper, .overlap-group-wrapper, .group-2, .group-3, .group-4, .group-5, .group-6");
        const rectangles = document.querySelectorAll(".rectangle-2");

        checkboxes.forEach(checkbox => {
          checkbox.addEventListener("change", function() {
            const parentGroup = checkbox.closest(".group-7, .group-11");
            const rectangle = parentGroup.querySelector(".rectangle-2");

            if (checkbox.checked) {
              rectangle.style.borderColor = "#0081f8";
              selectOrderText.style.display = "none";
              selectedOrderDetails.innerHTML = parentGroup.innerHTML + '<span class="close-button">x</span>';
              selectedOrderDetails.style.display = "block";
            } else {
              rectangle.style.borderColor = "#000000";
              if (![...checkboxes].some(cb => cb.checked)) {
                selectOrderText.style.display = "block";
                selectedOrderDetails.style.display = "none";
              }
            }
          });
        });

        rectangles.forEach(rectangle => {
          rectangle.addEventListener("click", function() {
            const parentGroup = rectangle.closest(".group-7, .group-11");
            const checkbox = parentGroup.querySelector(".rectangle-3, .rectangle-4, .rectangle-5");

            checkbox.checked = true;
            rectangle.style.borderColor = "#0081f8";
            selectOrderText.style.display = "none";
            selectedOrderDetails.innerHTML = parentGroup.innerHTML + '<span class="close-button">x</span>';
            selectedOrderDetails.style.display = "block";
          });
        });

        document.addEventListener("click", function(event) {
          if (event.target.classList.contains("close-button")) {
            selectedOrderDetails.style.display = "none";
            selectOrderText.style.display = "block";
            checkboxes.forEach(checkbox => {
              checkbox.checked = false;
              const parentGroup = checkbox.closest(".group-7, .group-11");
              const rectangle = parentGroup.querySelector(".rectangle-2");
              rectangle.style.borderColor = "#000000";
            });
          }
        });
      });

      function updateTimeAndDate() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const currentTime = `${hours}:${minutes}`;
        const options = { month: 'long' };
        const currentMonth = now.toLocaleDateString(undefined, options);
        const day = now.getDate();
        const daySuffix = (day) => {
          if (day > 3 && day < 21) return 'th';
          switch (day % 10) {
            case 1: return 'st';
            case 2: return 'nd';
            case 3: return 'rd';
            default: return 'th';
          }
        };
        const formattedDate = `${currentMonth} ${day}${daySuffix(day)}`;
        document.getElementById('current-time').textContent = currentTime;
        document.getElementById('current-date').textContent = formattedDate;
      }

      updateTimeAndDate();
      setInterval(updateTimeAndDate, 60000);

      document.addEventListener("DOMContentLoaded", function() {
        const powerIcon = document.querySelector(".power");
        const lockScreenElements = [
          ".rectangle-7",
          ".rectangle-8",
          ".lock",
          ".line-29",
          ".vector-2",
          ".text-wrapper-52"
        ];
        const hideElements = [
          ".line-5",
          ".line-6",
          ".power",
          ".total"
        ];

        lockScreenElements.forEach(selector => {
          const element = document.querySelector(selector);
          if (element) {
            element.style.display = "none";
          }
        });

        powerIcon.addEventListener("click", function() {
          hideElements.forEach(selector => {
            const el = document.querySelector(selector);
            if (el) el.style.display = "none";
          });

          lockScreenElements.forEach(selector => {
            const el = document.querySelector(selector);
            if (el) el.style.display = "block";
          });
        });
      });


// Example order data array
const orders = [
  {
    table: 'Table 1',
    items: [
      'Green Salad (2)',
    ],
    waitTime: '2m 30s',
    seats: 2,
    orderCount: 5,
    completedItems: 3,
    rating: 'Good',
    orderId: 1090,
    notes: 'No Green'
  },
  {
    table: 'Table 2',
    items: [
      'Veil BBQ (2)',
    ],
    waitTime: '2m 45s',
    seats: 3,
    orderCount: 6,
    completedItems: 4,
    rating: 'Excellent',
    orderId: 1091,
    notes: 'Extra Sauce'
  },
  {
    table: 'Table 3',
    items: [
      'Green Salad (2)',
    ],
    waitTime: '2m 30s',
    seats: 2,
    orderCount: 5,
    completedItems: 3,
    rating: 'Good',
    orderId: 1090,
    notes: 'No Green'
  },
 
  {
    table: 'Table 3',
    items: [
      'Veil BBQ (2)',
    ],
    waitTime: '1m 30s',
    seats: 2,
    orderCount: 5,
    completedItems: 3,
    rating: 'Good',
    orderId: 1090,
    notes: 'No Green'
  },
 
  // Add more orders as needed
];


// Function to render a single order group
function renderOrderGroup(order) {
  return `
    <div class="group-7">
      <div class="overlap-9">
        <div class="ellipse-9"></div>
        <div class="rectangle-2"></div>
        <div class="text-wrapper-25">${order.table}</div>
        <div class="text-wrapper-26">Item</div>
        <div class="items-container">
          ${order.items.map(item => `
            <div class="text-wrapper-27">
              <input type="checkbox" class="rectangle-3" onchange="handleCheckboxChange(this)" />
              ${item}
            </div>
          `).join('')}
        </div>
        <div class="text-wrapper-28">${order.waitTime}</div>
        <div class="text-wrapper-29">-</div>
        <div class="text-wrapper-30">-</div>
        <div class="text-wrapper-31">${order.waitTime}</div>
        <div class="text-wrapper-32">12:20</div>
        <div class="text-wrapper-33">1:30</div>
        <div class="text-wrapper-34">${order.notes}</div>
        <div class="text-wrapper-40">Total Wait Time:</div>
        <div class="text-wrapper-41">Seats:</div>
        <div class="text-wrapper-42">Order Count:</div>
        <div class="text-wrapper-43">Completed Items:</div>
        <div class="text-wrapper-44">Rating:</div>
        <div class="text-wrapper-45">Order ID:</div>
        <div class="text-wrapper-46">${order.waitTime}</div>
        <div class="text-wrapper-47">${order.seats}</div>
        <div class="text-wrapper-48">${order.orderCount}</div>
        <div class="text-wrapper-49">${order.completedItems}</div>
        <div class="text-wrapper-50">${order.rating}</div>
        <div class="text-wrapper-51">${order.orderId}</div>
        <div class="text-wrapper-55">Note</div>
        <div class="text-wrapper-53">T.E</div>
        <img class="line-15" src="https://c.animaapp.com/dTPxXaJm/img/line-36-1.svg" alt="Line 15" />
        <img class="line-16" src="https://c.animaapp.com/dTPxXaJm/img/line-37-1.svg" alt="Line 16" />
        <img class="line-17" src="https://c.animaapp.com/dTPxXaJm/img/line-40-1.svg" alt="Line 17" />
        <img class="line-18" src="https://c.animaapp.com/dTPxXaJm/img/line-95-1.svg" alt="Line 18" />
        <img class="line-19" src="https://c.animaapp.com/dTPxXaJm/img/line-96-1.svg" alt="Line 19" />
        <img class="line-20" src="https://c.animaapp.com/dTPxXaJm/img/line-96-1.svg" alt="Line 20" />
        <img class="line-21" src="https://c.animaapp.com/dTPxXaJm/img/line-42-1.svg" alt="Line 21" />
        <img class="line-22" src="https://c.animaapp.com/dTPxXaJm/img/line-44-1.svg" alt="Line 22" />
        <img class="line-23" src="https://c.animaapp.com/dTPxXaJm/img/line-44-1.svg" alt="Line 23" />
        <img class="line-24" src="https://c.animaapp.com/dTPxXaJm/img/line-44-1.svg" alt="Line 24" />
        <img class="line-25" src="https://c.animaapp.com/dTPxXaJm/img/line-44-1.svg" alt="Line 25" />
        <img class="line-26" src="https://c.animaapp.com/dTPxXaJm/img/line-47-1.svg" alt="Line 26" />
        <img class="line-27" src="https://c.animaapp.com/dTPxXaJm/img/line-97-1.svg" alt="Line 27" />
        <div class="checked-items"></div>
      </div>
    </div>
  `;
}

// Function to handle checkbox change
function handleCheckboxChange(checkbox) {
  const itemDiv = checkbox.parentElement;
  const checkedItemsContainer = itemDiv.closest('.group-7').querySelector('.checked-items');

  if (checkbox.checked) {
    itemDiv.classList.add('checked');
    checkedItemsContainer.appendChild(itemDiv);
  } else {
    itemDiv.classList.remove('checked');
    const itemsContainer = itemDiv.closest('.group-7').querySelector('.items-container');
    itemsContainer.appendChild(itemDiv);
  }
}

// Render all order groups
function renderOrderGroups(orders) {
  const container = document.getElementById('order-groups-container');
  container.innerHTML = orders.map(renderOrderGroup).join('');
}

// Initialize and render orders
renderOrderGroups(orders);
    </script>
  </body>
  </html>
